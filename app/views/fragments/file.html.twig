<tr class="file" id="file-{{ file.encodedPath }}">
    <td class="file-icon">
        <span class="fa fa-fw {{ file.icon }}"></span>
    </td>
    <td class="file-name">
        <a class="file-link" href="{{ path(file.isFile ? 'downloadFile' : 'listFiles', { path: file.relativePath }) }}" title="{{ file.name }}">{{ file.name }}</a>
    </td>
    <td class="file-size">
        {% if file.isFile %}
            {{ file.size|readable_filesize }}
        {% endif %}
    </td>
    <td class="file-buttons">
        {% if file.name != '..' %}
            <div class="dropdown">
                <button class="btn btn-xs btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu pull-right">
                    <li>
                        <a href="{{ path(file.isFile ? 'openFile' : 'listFiles', { path: file.relativePath }) }}">
                            <span class="fa fa-fw {{ file.icon }}"></span>{{ 'files.open'|trans }}
                        </a>
                    </li>
                    {% if file.isFile %}
                        <li>
                            <a href="{{ path('downloadFile', { path: file.relativePath }) }}">
                                <span class="fa fa-fw fa-download"></span>{{ 'files.download'|trans }}
                            </a>
                        </li>
                        {% if file.isPlayable %}
                            <li>
                                <a href="{{ path('playFile', { path: file.relativePath }) }}">
                                    <span class="fa fa-fw fa-play"></span>{{ 'files.play'|trans }}
                                </a>
                            </li>
                        {% endif %}
                        {% if file.isSharable %}
                            <li>
                                <a href="#" class="file-direct-link">
                                    <span class="fa fa-fw fa-external-link"></span>{{ 'files.directLink'|trans }}
                                </a>
                            </li>
                        {% endif %}
                    {% endif %}
                    {% if file.isSharable %}
                        {% if file.isShared %}
                            <li>
                                <a href="{{ uri('listFiles', { token: file.sharingToken }, 'sharings_') }}" class="sharing-link">
                                    <span class="fa fa-fw fa-link"></span>{{ 'files.sharingLink'|trans }}
                                </a>
                            </li>
                            <li>
                                <a href="#" class="sharing-remove" id="sharing-{{ file.sharingToken }}">
                                    <span class="fa fa-fw fa-unlink"></span>{{ 'files.removeSharing'|trans }}
                                </a>
                            </li>
                        {% else %}
                            <li>
                                <a href="#" class="add-sharing">
                                    <span class="fa fa-fw fa-link"></span>{{ 'files.share'|trans }}
                                </a>
                            </li>
                        {% endif %}
                    {% endif %}
                </ul>
            </div>
            {% if file.isDeletable %}
                <button class="btn btn-xs btn-danger file-remove">
                    <span class="fa fa-remove"></span>
                </button>
            {% endif %}
        {% endif %}
    </td>
</tr>
